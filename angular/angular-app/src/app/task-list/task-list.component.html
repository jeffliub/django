<h2>Tasks List</h2>

<ul>
    <li *ngFor="let task of tasks$ | async">
  
      <form (ngSubmit)="updateTask(task)">
  
        Title: <input type="text" name="title" [(ngModel)]="task.title" [disabled]="!task.isEditable" />
        <br>
  
        Content: <input type="text" name="content" [(ngModel)]="task.content" [disabled]="!task.isEditable" />
        <br>
  
        Due Date: <input type="text" name="due_date" [(ngModel)]="task.due_date" [disabled]="!task.isEditable" />
        <br>
  
        <button *ngIf="!task.isEditable" (click)="task.isEditable=!task.isEditable">Edit</button>
        <button type="submit" *ngIf="task.isEditable">Save</button>
        <button type="button" (click)=deleteTask(task.id)>Delete</button>
      </form>
  
    </li>
  </ul>

<!-- <div *ngIf="response && imageURL">
    <img [src]='imageURL' />
</div> -->

<h2>Create a Task</h2>
<form [formGroup]="task_form" (ngSubmit)="onSubmit()">
    <label for="title">Title</label>
    <input type="text" formControlName="title" required>
    <br>
    <label for="content">Content</label>
    <input type="text" formControlName="content" required>
    <br>
    <label for="attachment">Attachment</label>
    <input type="file" id="attachment" name="attachment" formControlName="attachment" (change)="onChange($event)">
    <button type="submit" [disabled]="task_form.invalid">Add Task</button>
</form>